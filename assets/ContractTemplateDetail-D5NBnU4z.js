var y=Object.defineProperty;var I=(e,o,l)=>o in e?y(e,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[o]=l;var m=(e,o,l)=>I(e,typeof o!="symbol"?o+"":o,l);import{I as F,J as h,d as B,g as D,r as v,e as k,G as w,_ as A,j as i,m as M,o as S,w as c,b as t,k as n,v as C,t as V}from"./index-DmUMvrSQ.js";import{c as U}from"./crudBaseStore-BQfEd0nr.js";import{B as L}from"./BaseDetail-zykIlOpR.js";import{u as N}from"./remoteCombobox-B8Q4up6i.js";import{M as P}from"./MsFileUpload-lAdeasEm.js";import"./validateComponent-kMK-YP6C.js";import"./fileAPI-_RNgakGO.js";class O extends F{constructor(){super(...arguments);m(this,"apiName","dictionary");m(this,"controllerName","ContractTemplate")}}const g=new O,$=new U({field:{key:"contract_template_id",code:"contract_template_code"}},g);class q{constructor(){m(this,"state",()=>({...$.state}));m(this,"actions",{...$.actions})}}const E=new q,R=h("moduleContractTemplate",E),j=B({mixins:[],extends:L,components:{MsFileUpload:P},setup(){const{proxy:e}=D(),o=R(),l=v(g),u=v("contract_template"),{comboboxLoadData:f}=N(),_=k({user:[]});return{api:l,storeModule:o,subSystemCode:u,dataCombobox:_,userAPI:w,comboboxLoadData:f,filterInactive:p=>{const s=e;if(s.editMode==s.$ms.constant.FormState.Add){const d=["is_active","=",!0];s.$ms.commonFn.concatFilter(p,d)}}}}}),G={ref:"slot-content",class:"form-content-popup"},J={class:"form-container mt-4"},z={class:"form-detail flex-center"},H={class:"form-item"},K={class:"form-item_input"},Q={class:"form-group"},W={class:"form-group"},X={class:"form-item_input"},Y={class:"form-group"},Z={class:"form-group"},x={class:"form-group"},ee={class:"form-action"},oe={class:"form-action_container"},te={class:"form-action_item"},ae={class:"form-action_item"};function le(e,o,l,u,f,_){const r=i("ms-input"),p=i("ms-combobox-v2"),s=i("ms-file-upload"),d=i("ms-button"),T=i("ms-dynamic-popup");return S(),M(T,{width:700,height:550,title:`${e.editMode?e.$ms.commonFn.getEnumResource(e.editMode,"FormState"):""} ${e.$t("i18nContractTemplate.Title")}`,onBeforeOpen:e.beforeOpen},{content:c(({close:b})=>[t("div",G,[t("div",J,[t("div",z,[t("div",H,[t("div",null,[t("div",K,[t("div",Q,[n(r,{maxLength:100,rules:[{name:"required"}],label:e.$t("i18nContractTemplate.Detail.contract_template_name"),modelValue:e.model.contract_template_name,"onUpdate:modelValue":o[0]||(o[0]=a=>e.model.contract_template_name=a)},null,8,["label","modelValue"])]),t("div",W,[n(r,{maxLength:30,label:e.$t("i18nContractTemplate.Detail.contract_template_code"),modelValue:e.model.contract_template_code,"onUpdate:modelValue":o[1]||(o[1]=a=>e.model.contract_template_code=a)},null,8,["label","modelValue"])])]),t("div",X,[t("div",Y,[n(p,{label:e.$t("i18nContractTemplate.Detail.signer"),valueField:"user_id",displayField:"user_full_name",data:e.dataCombobox.user,initText:e.model.user_full_name,onComboboxLoadData:o[2]||(o[2]=a=>e.comboboxLoadData(a,e.userAPI,e.dataCombobox,"user")),buildFilter:e.filterInactive,queryMode:"remote",remoteFilter:!0,modelValue:e.model.signer,"onUpdate:modelValue":o[3]||(o[3]=a=>e.model.signer=a),display:e.model.user_full_name,"onUpdate:display":o[4]||(o[4]=a=>e.model.user_full_name=a)},null,8,["label","data","initText","buildFilter","modelValue","display"])])]),t("div",Z,[n(r,{maxLength:250,label:e.$t("i18nContractTemplate.Detail.decription"),modelValue:e.model.decription,"onUpdate:modelValue":o[5]||(o[5]=a=>e.model.decription=a)},null,8,["label","modelValue"])]),t("div",x,[n(s,{allowExt:["dotx"],modelValue:e.model.file_url,"onUpdate:modelValue":o[6]||(o[6]=a=>e.model.file_url=a),disabled:!1,path:"/contract_template/file_url",multiple:!1},null,8,["modelValue"])])])])])])],512)]),footer:c(({close:b})=>[t("div",ee,[t("div",oe,[t("div",te,[n(d,{onClick:b},{default:c(()=>[C(V(e.$t("i18nCommon.Close")),1)]),_:2},1032,["onClick"])]),t("div",ae,[n(d,{onClick:e.save,class:"primary"},{default:c(()=>[C(V(e.$t("i18nCommon.crud.save")),1)]),_:1},8,["onClick"])])])])]),_:1},8,["title","onBeforeOpen"])}const ue=A(j,[["render",le],["__scopeId","data-v-1f999364"]]);export{ue as default};
