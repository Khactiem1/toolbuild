var $=Object.defineProperty;var C=(o,e,a)=>e in o?$(o,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[e]=a;var r=(o,e,a)=>C(o,typeof e!="symbol"?e+"":e,a);import{I as w,J as P,d as V,g as I,r as v,e as k,_ as L,j as p,m as M,o as E,w as u,b as s,k as d,v as y,t as h}from"./index-whgfsyUy.js";import{c as F}from"./crudBaseStore-afhvnkno.js";import{B as A}from"./BaseDetail-2bx4aSjb.js";import{M as U}from"./MsComboboxTreeV2-Dc_yCRuJ.js";import{s as N}from"./supportListAPI-BqRYuTCw.js";import"./validateComponent-B7XtBPe1.js";class T extends w{constructor(){super(...arguments);r(this,"apiName","dictionary");r(this,"controllerName","Support")}}const D=new T,B=new F({field:{key:"support_id",code:""}},D);class O{constructor(){r(this,"state",()=>({...B.state}));r(this,"actions",{...B.actions})}}const R=new O,j=P("moduleSupport",R),q=V({mixins:[],components:{MsComboboxTreeV2:U},extends:A,setup(){const{proxy:o}=I(),e=j(),a=v(D),f=v("support_center"),_={width:Math.round(window.innerWidth*.8),height:Math.round(window.innerHeight*.8)},c=k({support_list:[]});return{api:a,stylePopup:_,storeModule:e,subSystemCode:f,comboBoxDataRemote:c,beforeExpandSupportList:async(n,i={})=>{var S;const l=o;if(n(),l.loadedDataSupportList)return;l.loadedDataSupportList=!0;const m={PageIndex:0,PageSize:0,Columns:"*",Filter:"",Sort:"",CustomParam:{}};i.loading=!0;const t=await N.getList(m);i.loading=!1,t!=null&&t.Success&&((S=t==null?void 0:t.Data)!=null&&S.PageData)&&(c.support_list=t.Data.PageData)},afterBindData:()=>{const n=o;n.editMode==n.$ms.constant.FormState.Add&&(n.model.support_id=n.$ms.commonFn.generateUUID())}}}}),z={ref:"slot-content",class:"form-content-popup"},H={class:"form-container pd-t-4"},J={class:"form-detail"},W={class:"form-group"},x={class:"form-group"},G={class:"form-group",style:{"padding-left":"0"}},K={class:"form-action"},Q={class:"form-action_container"},X={class:"form-action_item"},Y={class:"form-action_item"};function Z(o,e,a,f,_,c){const b=p("ms-input"),g=p("ms-number"),n=p("ms-combobox-tree-v2"),i=p("ms-button"),l=p("ms-dynamic-popup");return E(),M(l,{width:o.stylePopup.width,height:o.stylePopup.height,title:`${o.editMode?o.$ms.commonFn.getEnumResource(o.editMode,"FormState"):""} ${o.$t("i18nSupport.Title")}`,onBeforeOpen:o.beforeOpen},{content:u(({close:m})=>[s("div",z,[s("div",H,[s("div",J,[s("div",W,[d(b,{maxLength:250,rules:[{name:"required"}],label:o.$t("i18nSupport.Detail.support_name"),modelValue:o.model.support_name,"onUpdate:modelValue":e[0]||(e[0]=t=>o.model.support_name=t)},null,8,["label","modelValue"])]),s("div",x,[d(g,{label:o.$t("i18nSupport.Detail.sort"),modelValue:o.model.sort,"onUpdate:modelValue":e[1]||(e[1]=t=>o.model.sort=t)},null,8,["label","modelValue"])]),s("div",G,[d(n,{label:o.$t("i18nSupport.Detail.support_list_name"),data:o.comboBoxDataRemote.support_list,modelValue:o.model.support_list_id,"onUpdate:modelValue":e[2]||(e[2]=t=>o.model.support_list_id=t),display:o.model.support_list_name,"onUpdate:display":e[3]||(e[3]=t=>o.model.support_list_name=t),initText:o.model.support_list_name,displayField:"support_list_name",valueField:"support_list_id",idProperty:"support_list_id",isAsyncBeforeExpand:!0,onBeforeExpand:o.beforeExpandSupportList},null,8,["label","data","modelValue","display","initText","onBeforeExpand"])])]),e[4]||(e[4]=s("div",{class:"form-detail form-group"},null,-1))])],512)]),footer:u(({close:m})=>[s("div",K,[s("div",Q,[s("div",X,[d(i,{onClick:m},{default:u(()=>[y(h(o.$t("i18nCommon.Close")),1)]),_:2},1032,["onClick"])]),s("div",Y,[d(i,{onClick:o.save,class:"primary"},{default:u(()=>[y(h(o.$t("i18nCommon.crud.save")),1)]),_:1},8,["onClick"])])])])]),_:1},8,["width","height","title","onBeforeOpen"])}const ro=L(q,[["render",Z],["__scopeId","data-v-f8e2c7af"]]);export{ro as default};
