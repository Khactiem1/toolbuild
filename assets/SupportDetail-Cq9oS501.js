var B=Object.defineProperty;var V=(o,e,i)=>e in o?B(o,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[e]=i;var d=(o,e,i)=>V(o,typeof e!="symbol"?e+"":e,i);import{I as C,J as w,d as P,g as M,r as h,e as I,_ as k,j as p,m as F,o as L,w as u,b as s,k as r,v,t as y}from"./index-DmUMvrSQ.js";import{c as E}from"./crudBaseStore-BQfEd0nr.js";import{B as U}from"./BaseDetail-zykIlOpR.js";import{M as A}from"./MsFroala-BGFcGW6x.js";import{M as N}from"./MsComboboxTreeV2-Dc0tERHG.js";import{s as T}from"./supportListAPI-C03pSBmw.js";import"./validateComponent-kMK-YP6C.js";import"./fileAPI-_RNgakGO.js";import"./popupUtil-BIlfh91z.js";class O extends C{constructor(){super(...arguments);d(this,"apiName","dictionary");d(this,"controllerName","Support")}}const $=new O,D=new E({field:{key:"support_id",code:""}},$);class R{constructor(){d(this,"state",()=>({...D.state}));d(this,"actions",{...D.actions})}}const j=new R,q=w("moduleSupport",j),z=P({mixins:[],components:{MsComboboxTreeV2:N,MsFroala:A},extends:U,setup(){const{proxy:o}=M(),e=q(),i=h($),f=h("support_center"),b={width:Math.round(window.innerWidth*.8),height:Math.round(window.innerHeight*.8)},c=I({support_list:[]});return{api:i,stylePopup:b,storeModule:e,subSystemCode:f,comboBoxDataRemote:c,beforeExpandSupportList:async(a,m={})=>{var t;const l=o;if(a(),l.loadedDataSupportList)return;l.loadedDataSupportList=!0;const _={PageIndex:0,PageSize:0,Columns:"*",Filter:"",Sort:"",CustomParam:{}};m.loading=!0;const n=await T.getList(_);m.loading=!1,n!=null&&n.Success&&((t=n==null?void 0:n.Data)!=null&&t.PageData)&&(c.support_list=n.Data.PageData)},afterBindData:()=>{const a=o;a.editMode==a.$ms.constant.FormState.Add&&(a.model.support_id=a.$ms.commonFn.generateUUID())}}}}),H={ref:"slot-content",class:"form-content-popup"},J={class:"form-container pd-t-4"},W={class:"form-detail"},G={class:"form-group"},K={class:"form-group"},Q={class:"form-group",style:{"padding-left":"0"}},X={class:"form-detail form-group"},Y={class:"form-action"},Z={class:"form-action_container"},x={class:"form-action_item"},oo={class:"form-action_item"};function eo(o,e,i,f,b,c){const S=p("ms-input"),g=p("ms-number"),a=p("ms-combobox-tree-v2"),m=p("ms-froala"),l=p("ms-button"),_=p("ms-dynamic-popup");return L(),F(_,{width:o.stylePopup.width,height:o.stylePopup.height,title:`${o.editMode?o.$ms.commonFn.getEnumResource(o.editMode,"FormState"):""} ${o.$t("i18nSupport.Title")}`,onBeforeOpen:o.beforeOpen},{content:u(({close:n})=>[s("div",H,[s("div",J,[s("div",W,[s("div",G,[r(S,{maxLength:250,rules:[{name:"required"}],label:o.$t("i18nSupport.Detail.support_name"),modelValue:o.model.support_name,"onUpdate:modelValue":e[0]||(e[0]=t=>o.model.support_name=t)},null,8,["label","modelValue"])]),s("div",K,[r(g,{label:o.$t("i18nSupport.Detail.sort"),modelValue:o.model.sort,"onUpdate:modelValue":e[1]||(e[1]=t=>o.model.sort=t)},null,8,["label","modelValue"])]),s("div",Q,[r(a,{label:o.$t("i18nSupport.Detail.support_list_name"),data:o.comboBoxDataRemote.support_list,modelValue:o.model.support_list_id,"onUpdate:modelValue":e[2]||(e[2]=t=>o.model.support_list_id=t),display:o.model.support_list_name,"onUpdate:display":e[3]||(e[3]=t=>o.model.support_list_name=t),initText:o.model.support_list_name,displayField:"support_list_name",valueField:"support_list_id",idProperty:"support_list_id",isAsyncBeforeExpand:!0,onBeforeExpand:o.beforeExpandSupportList},null,8,["label","data","modelValue","display","initText","onBeforeExpand"])])]),s("div",X,[r(m,{label:o.$t("i18nSupport.Detail.content"),modelValue:o.model.content,"onUpdate:modelValue":e[4]||(e[4]=t=>o.model.content=t),pathMedia:`/support/content/${o.model.support_id}`},null,8,["label","modelValue","pathMedia"])])])],512)]),footer:u(({close:n})=>[s("div",Y,[s("div",Z,[s("div",x,[r(l,{onClick:n},{default:u(()=>[v(y(o.$t("i18nCommon.Close")),1)]),_:2},1032,["onClick"])]),s("div",oo,[r(l,{onClick:o.save,class:"primary"},{default:u(()=>[v(y(o.$t("i18nCommon.crud.save")),1)]),_:1},8,["onClick"])])])])]),_:1},8,["width","height","title","onBeforeOpen"])}const co=k(z,[["render",eo],["__scopeId","data-v-5a20a068"]]);export{co as default};
