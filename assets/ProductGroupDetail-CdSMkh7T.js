var B=Object.defineProperty;var C=(o,e,r)=>e in o?B(o,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[e]=r;var p=(o,e,r)=>C(o,typeof e!="symbol"?e+"":e,r);import{I,J as S,d as F,g as G,r as y,e as L,_ as h,j as l,m as A,o as M,w as u,b as s,k as d,v as P,t as D}from"./index-whgfsyUy.js";import{c as k}from"./crudBaseStore-afhvnkno.js";import{c as w}from"./categoryAPI-B2Oh2XQB.js";import{B as E}from"./BaseDetail-2bx4aSjb.js";import{M as T}from"./MsFileImage-CUdc8Ebt.js";import{M as U}from"./MsComboboxTreeV2-Dc_yCRuJ.js";import{s as R}from"./supplierAPI-D37kqukV.js";import{u as N}from"./remoteCombobox-B8Q4up6i.js";import"./validateComponent-B7XtBPe1.js";import"./fileAPI-D2rdd4Hc.js";class O extends I{constructor(){super(...arguments);p(this,"apiName","dictionary");p(this,"controllerName","ProductGroup")}}const $=new O,V=new k({field:{key:"product_group_id",code:""}},$);class q{constructor(){p(this,"state",()=>({...V.state}));p(this,"actions",{...V.actions})}}const j=new q,z=S("moduleProductGroup",j),J=F({mixins:[],components:{MsFileImage:T,MsComboboxTreeV2:U},extends:E,setup(){const{proxy:o}=G(),e=z(),r=y($),b=y("product_group"),{comboboxLoadData:g}=N(),c=L({category:[],supplier:[]});return{api:r,storeModule:e,subSystemCode:b,comboBoxDataRemote:c,supplierAPI:R,beforeExpandSupportList:async(m,i={})=>{var t;const n=o;if(m(),n.loadedDataSupportList)return;n.loadedDataSupportList=!0;const _={PageIndex:0,PageSize:0,Columns:"*",Filter:"",Sort:"",CustomParam:{}};i.loading=!0;const a=await w.getList(_);i.loading=!1,a!=null&&a.Success&&((t=a==null?void 0:a.Data)!=null&&t.PageData)&&(c.category=a.Data.PageData)},comboboxLoadData:g,filterInactive:m=>{const i=o;if(i.editMode==i.$ms.constant.FormState.Add){const n=["is_active","=",!0];i.$ms.commonFn.concatFilter(m,n)}}}}}),x={ref:"slot-content",class:"form-content-popup"},H={class:"form-container mt-4"},K={class:"form-detail flex-center"},Q={class:"form-item"},W={class:"form-item_input"},X={class:"form-group ms-big"},Y={class:"form-item_input"},Z={class:"form-group"},oo={class:"form-item_input"},eo={class:"form-group"},to={class:"form-item_input"},so={class:"form-group"},ao={class:"form-item_input"},io={class:"form-group"},ro={class:"form-action"},no={class:"form-action_container"},lo={class:"form-action_item"},mo={class:"form-action_item"};function po(o,e,r,b,g,c){const f=l("ms-input"),v=l("ms-combobox-tree-v2"),m=l("ms-combobox-v2"),i=l("ms-number"),n=l("ms-button"),_=l("ms-dynamic-popup");return M(),A(_,{width:800,height:600,title:`${o.editMode?o.$ms.commonFn.getEnumResource(o.editMode,"FormState"):""} ${o.$t("i18nProductGroup.Title")}`,onBeforeOpen:o.beforeOpen},{content:u(({close:a})=>[s("div",x,[s("div",H,[s("div",K,[s("div",Q,[s("div",W,[s("div",X,[d(f,{maxLength:150,rules:[{name:"required"}],label:o.$t("i18nProductGroup.Detail.product_group_name"),modelValue:o.model.product_group_name,"onUpdate:modelValue":e[0]||(e[0]=t=>o.model.product_group_name=t)},null,8,["label","modelValue"])])]),s("div",Y,[s("div",Z,[d(v,{label:o.$t("i18nProductGroup.Detail.category_name"),data:o.comboBoxDataRemote.category,modelValue:o.model.category_id,"onUpdate:modelValue":e[1]||(e[1]=t=>o.model.category_id=t),display:o.model.category_name,"onUpdate:display":e[2]||(e[2]=t=>o.model.category_name=t),initText:o.model.category_name,displayField:"category_name",valueField:"category_id",idProperty:"category_id",isAsyncBeforeExpand:!0,onBeforeExpand:o.beforeExpandSupportList},null,8,["label","data","modelValue","display","initText","onBeforeExpand"])])]),s("div",oo,[s("div",eo,[d(m,{label:o.$t("i18nProductGroup.Detail.supplier_name"),valueField:"supplier_id",displayField:"supplier_name",data:o.comboBoxDataRemote.supplier,initText:o.model.supplier_name,onComboboxLoadData:e[3]||(e[3]=t=>o.comboboxLoadData(t,o.supplierAPI,o.comboBoxDataRemote,"supplier")),buildFilter:o.filterInactive,queryMode:"remote",remoteFilter:!0,modelValue:o.model.supplier_id,"onUpdate:modelValue":e[4]||(e[4]=t=>o.model.supplier_id=t),display:o.model.supplier_name,"onUpdate:display":e[5]||(e[5]=t=>o.model.supplier_name=t)},null,8,["label","data","initText","buildFilter","modelValue","display"])])]),s("div",to,[s("div",so,[d(i,{label:o.$t("i18nProductGroup.Detail.sort"),modelValue:o.model.sort,"onUpdate:modelValue":e[6]||(e[6]=t=>o.model.sort=t)},null,8,["label","modelValue"])])]),s("div",ao,[s("div",io,[d(f,{maxLength:250,label:o.$t("i18nProductGroup.Detail.description"),modelValue:o.model.description,"onUpdate:modelValue":e[7]||(e[7]=t=>o.model.description=t)},null,8,["label","modelValue"])])])])])])],512)]),footer:u(({close:a})=>[s("div",ro,[s("div",no,[s("div",lo,[d(n,{onClick:a},{default:u(()=>[P(D(o.$t("i18nCommon.Close")),1)]),_:2},1032,["onClick"])]),s("div",mo,[d(n,{onClick:o.save,class:"primary"},{default:u(()=>[P(D(o.$t("i18nCommon.crud.save")),1)]),_:1},8,["onClick"])])])])]),_:1},8,["title","onBeforeOpen"])}const $o=h(J,[["render",po],["__scopeId","data-v-b66e2237"]]);export{$o as default};
