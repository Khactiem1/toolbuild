var L=Object.defineProperty;var B=(o,e,i)=>e in o?L(o,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[e]=i;var f=(o,e,i)=>B(o,typeof e!="symbol"?e+"":e,i);import{J as y,d as k,g as P,r as D,e as w,_ as F,j as m,m as M,o as U,w as u,b as t,k as l,v as V,t as $}from"./index-whgfsyUy.js";import{c as I}from"./crudBaseStore-afhvnkno.js";import{s as b}from"./supportListAPI-BqRYuTCw.js";import{B as h}from"./BaseDetail-2bx4aSjb.js";import{M as R}from"./MsComboboxTreeV2-Dc_yCRuJ.js";import"./validateComponent-B7XtBPe1.js";const C=new I({field:{key:"support_list_id",code:""}},b);class T{constructor(){f(this,"state",()=>({...C.state}));f(this,"actions",{...C.actions})}}const N=new T,O=y("moduleSupportList",N),A=k({mixins:[],components:{MsComboboxTreeV2:R},extends:h,setup(){const{proxy:o}=P(),e=O(),i=D(b),v=D("support_list"),d=w({support_list:[]}),g=async()=>{var r,p;const s=o,_={PageIndex:0,PageSize:0,Columns:"*",Filter:"",Sort:"",CustomParam:{}};s.$ms.commonFn.mask();const a=await b.getList(_);s.$ms.commonFn.unmask(),a!=null&&a.Success&&((p=(r=a==null?void 0:a.Data)==null?void 0:r.PageData)!=null&&p.length)&&(s.editMode==s.$ms.constant.FormState.Add?d.support_list=a.Data.PageData:d.support_list=s.$ms.commonFn.deleteHierarchyTree(a.Data.PageData,"parent_id","support_list_id",s._formParam.dataRow.support_list_id))};return{api:i,storeModule:e,subSystemCode:v,comboBoxDataRemote:d,beforeBindData:async()=>{const s=o;await g(),await s.super("beforeBindData",h)}}}}),j={ref:"slot-content",class:"form-content-popup"},q={class:"form-container mt-4"},z={class:"form-detail flex-center"},E={class:"form-item"},H={class:"form-item_input"},J={class:"form-group ms-big"},G={class:"form-item_input"},K={class:"form-group"},Q={class:"form-item_input"},W={class:"form-group"},X={class:"form-item_input"},Y={class:"form-group ms-small"},Z={class:"form-group ms-big"},x={class:"form-action"},oo={class:"form-action_container"},eo={class:"form-action_item"},to={class:"form-action_item"};function so(o,e,i,v,d,g){const c=m("ms-input"),s=m("ms-textarea"),_=m("ms-combobox-tree-v2"),a=m("ms-number"),r=m("ms-button"),p=m("ms-dynamic-popup");return U(),M(p,{width:800,height:550,title:`${o.editMode?o.$ms.commonFn.getEnumResource(o.editMode,"FormState"):""} ${o.$t("i18nSupportList.Title")}`,onBeforeOpen:o.beforeOpen},{content:u(({close:S})=>[t("div",j,[t("div",q,[t("div",z,[t("div",E,[t("div",H,[t("div",J,[l(c,{maxLength:100,rules:[{name:"required"}],label:o.$t("i18nSupportList.Detail.support_list_name"),modelValue:o.model.support_list_name,"onUpdate:modelValue":e[0]||(e[0]=n=>o.model.support_list_name=n)},null,8,["label","modelValue"])])]),t("div",G,[t("div",K,[l(s,{maxLength:200,label:o.$t("i18nSupportList.Detail.description"),modelValue:o.model.description,"onUpdate:modelValue":e[1]||(e[1]=n=>o.model.description=n)},null,8,["label","modelValue"])])]),t("div",Q,[t("div",W,[l(_,{label:o.$t("i18nSupportList.Detail.parent"),data:o.comboBoxDataRemote.support_list,displayField:"support_list_name",valueField:"support_list_id",idProperty:"support_list_id",modelValue:o.model.parent_id,"onUpdate:modelValue":e[2]||(e[2]=n=>o.model.parent_id=n)},null,8,["label","data","modelValue"])])]),t("div",X,[t("div",Y,[l(a,{label:o.$t("i18nSupportList.Detail.sort"),modelValue:o.model.sort,"onUpdate:modelValue":e[3]||(e[3]=n=>o.model.sort=n)},null,8,["label","modelValue"])]),t("div",Z,[l(c,{maxLength:50,label:o.$t("i18nSupportList.Detail.icon"),modelValue:o.model.icon,"onUpdate:modelValue":e[4]||(e[4]=n=>o.model.icon=n)},null,8,["label","modelValue"])])])])])])],512)]),footer:u(({close:S})=>[t("div",x,[t("div",oo,[t("div",eo,[l(r,{onClick:S},{default:u(()=>[V($(o.$t("i18nCommon.Close")),1)]),_:2},1032,["onClick"])]),t("div",to,[l(r,{onClick:o.save,class:"primary"},{default:u(()=>[V($(o.$t("i18nCommon.crud.save")),1)]),_:1},8,["onClick"])])])])]),_:1},8,["title","onBeforeOpen"])}const uo=F(A,[["render",so],["__scopeId","data-v-7e559900"]]);export{uo as default};
